<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        function isIOS() {
            return /iphone|ipad|ipod/i.test(navigator.userAgent);
        }

        let deferredPrompt; // Store the install event
        window.addEventListener("beforeinstallprompt", (event) => {
            event.preventDefault(); // Prevent automatic showing
            deferredPrompt = event; // Store it for later
        });

        function triggerPWAInstall() {
            if (isIOS()) {
                openIosInstallModal();
            }
            else {
                if (deferredPrompt) {
                    deferredPrompt.prompt(); // Show the install prompt
    
                    deferredPrompt.userChoice.then((choiceResult) => {
                        if (choiceResult.outcome === "accepted") {
                            console.log("User accepted the PWA install");
                        } else {
                            console.log("User dismissed the PWA install");
                        }
                        deferredPrompt = null; // Reset after use
                    });
                } else {
                    console.log("Install prompt not available yet.");
                }
            }
        }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpeskrull</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        /* BEGIN -- NAVIGATION */
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        nav {
            width: 100%;
            background-color: #007AFF;
            padding: 10px 0;
            position: fixed;
            bottom: 0;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
        }
        nav ul {
            list-style: none;
            display: flex;
            padding: 0;
            margin: 0;
            width: 100%;
            justify-content: space-around;
        }
        nav ul li {
            flex: 1;
            text-align: center;
        }
        nav a {
            text-decoration: none;
            color: white;
            font-weight: bold;
            display: block;
            padding: 10px;
            font-size: 1.2em;
        }
        nav a.active {
            background-color: rgba(255, 255, 255, 0.3); /* Light highlight */
            border-radius: 5px;
        }
        
        section {
            display: none;
            width: 90%;
            max-width: 600px;
            padding: 10px;
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            margin: 10px auto 40px;
        }
        section.active {
            display: block;
        }
        h2 {
            text-align: center;
            color: #333;
        }
        ul {
            margin-top: 2px;
        }
        h4 {
            margin-bottom: 2px;
        }
        a {
            color: #007AFF;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
        }
        @media (max-width: 480px) {
            nav a {
                font-size: 1em;
                padding: 8px;
            }
        }
        /* END -- NAVIGATION */

        /* BEGIN -- TODAY */
        span.day {
            display: none;
        }

        span.day.show-day {
            display: block;
        }

        #previousDays {
            display: flex;
            justify-content: center;
            gap: 6px; /* Slightly reduced gap between buttons */
            margin-top: 10px;
            overflow-x: auto; /* Allow scrolling if needed */
            padding: 0; /* Ensure no extra padding around the container */
        }

        #previousDays a {
            text-decoration: none;
            font-size: 11px; /* Slightly smaller font */
            font-weight: 500;
            padding: 5px 5px; /* Consistent padding for all states */
            border-radius: 10px; /* Keeps soft-rounded edges */
            background-color: #f0f0f0;
            color: #333;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: inline-block;
            box-sizing: border-box; /* Ensures padding and borders are part of the total width */
        }

        #previousDays a:hover {
            background-color: #ddd;
        }

        #previousDays a.active-day-btn {
            background-color: #007AFF; /* iOS-like blue */
            color: white;
            font-weight: bold;
            border: 2px solid #005ecb;
            box-shadow: 0px 4px 8px rgba(0, 122, 255, 0.3);
        }

        .highscore {
            width: 100%;
            max-width: 400px; /* Limits table width for a clean look */
            margin: 20px auto;
            border-collapse: collapse;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);
            background-color: white;
        }

        .highscore th {
            background-color: #007AFF; /* iOS-like blue */
            color: white;
            padding: 12px;
            font-size: 14px;
            text-align: left;
        }

        .highscore td {
            padding: 10px;
            font-size: 14px;
            text-align: left;
            color: #333;
            border-bottom: 1px solid #ddd; /* Subtle separator */
        }

        .highscore tr:nth-child(even) {
            background-color: #f8f8f8; /* Light gray for alternating rows */
        }

        /* Highlight top scorer */
        .highscore tr:nth-child(2) td {
            font-weight: bold;
            color: #007AFF;
        }

        /* Last row rounded corners */
        .highscore tr:last-child td {
            border-bottom: none;
        }
        /* END -- TODAY */

        /* BEGIN -- FLIGHTS */
        /* Container for the entire flight information section */
        #flights {
            padding: 20px;
            background-color: #f4f4f9;
        }

        /* Wrapper for the entire flight information block */
        .flight-info-wrapper {
            display: flex;
            flex-direction: column;
            gap: 20px; /* Space between each flight block */
        }

        /* Individual flight detail block (including icon, date, and flight info) */
        .flight-detail-block {
            display: flex;
            flex-direction: column;
            gap: 10px;
            border: 1px solid #ddd; /* Optional border around each flight block */
            padding: 15px;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        /* Inner wrapper for flight info (icon and date) */
        .flight-header {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Icon and date styling */
        .flight-header-icon {
            display: flex;
            align-items: center;
        }

        /* Styling for the flight icon */
        .material-icons {
            font-size: 30px;
            color: #0077cc;
        }

        /* Date heading styling */
        .flight-date {
            font-size: 16px;
            font-weight: bold;
            margin-left: 4px;
        }

        /* Flight number and airline text styling */
        .flight-info-caption {
            font-size: 14px;
            color: #666;
            margin-left: 28px;
            margin-top: -8px;
            margin-bottom: 8px;
        }

        /* Flight-time list styling */
        .flight-time-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        /* Styling for each individual flight detail (departure time, duration, etc.) */
        .flight-time-item {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
        }

        .flight-time-item p {
            margin: 0;
            font-size: 14px;
        }

        /* Removing margins where specified */
        .no-margin {
            margin: 0;
        }

        /* Departure and duration times styling */
        .departure-time {
            font-size: 14px;
            color: #333;
        }

        /* Styling for flight duration text */
        .flight-duration p {
            font-size: 12px !important; /* Smaller font size for duration */
            color: #0077cc !important ; /* Optional color for the duration text */
            font-weight: normal !important; /* Make it lighter to contrast with the other times */
            margin: 0;
        }


        /* Mirrored icon for return flight */
        .material-icons[style*="scaleX(-1)"] {
            transform: scaleX(-1);
        }

        /* Hover effect for flight time list items */
        .flight-time-item:hover {
            background-color: #f0f8ff;
            cursor: pointer;
            border-radius: 4px;
        }

        /* Header styling for the "Flight Information" section */
        #flights h2 {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }

        /* Styling for the introductory paragraph (optional text) */
        #flights p {
            font-size: 16px;
            color: #666;
            margin-top: 10px;
        }
        /* END -- FLIGHTS */

        /* BEGIN -- HOTEL PICTURE CAROUSEL */
        .carousel {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: auto;
            overflow: hidden;
        }
        .carousel img {
            width: 100%;
            display: none;
        }
        .carousel img.activepic {
            display: block;
        }
        .carousel button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
        }
        .carousel .prev {
            left: 10px;
        }
        .carousel .next {
            right: 10px;
        }
        /* END -- HOTEL PICTURE CAROUSEL */

        /* BEGIN -- DINNER */
        .dinner-day {
            border: 1px solid #ddd; /* Light gray border */
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px; /* Spacing between days */
            background-color: #fff; /* White background */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }

        .dinner-day h3 {
            margin-top: 0;
            color: #007AFF; /* Stylish blue color */
        }

        .dinner-day a {
            text-decoration: none;
            color: #007AFF; /* Match heading color */
            font-weight: bold;
        }

        .dinner-day a:hover {
            text-decoration: underline;
        }

        .dinner-day p {
            color: #555; /* Slightly darker text for readability */
        }

        .highlight-today {
            background-color: #fffae6; /* Light yellow background */
            border: 2px solid #ffcc00; /* Gold border */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        /* END -- DINNER */

        /* START -- BARS */
        /* Grid layout for bars */
        .bars-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1000px;
            margin: auto;
        }

        /* Individual Bar Card */
        .bar-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: left;
            transition: transform 0.3s ease-in-out;
        }

        .bar-card:hover {
            transform: scale(1.05);
        }

        /* Image Styling */
        .bar-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        /* Bar Info */
        .bar-info {
            padding: 15px;
        }

        .bar-info h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .bar-info a {
            text-decoration: none;
            color: #d9534f;
            transition: color 0.3s;
        }

        .bar-info a:hover {
            color: #c9302c;
        }
        /* END -- BARS */

        /* START -- SKIMAP */
        .map-container {
            position: relative;
            display: inline-block;
        }

        #ski-map {
            width: 100%; /* Adjust as needed */
            max-width: 800px; /* Change based on your layout */
            cursor: crosshair;
        }

        #zoomed-map {
            position: absolute;
            width: 350px; /* Adjust size of zoom window */
            height: 250px;
            border: 2px solid white;
            border-radius: 8px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.4);
            display: none;
            background-image: url('images/skiresort/skimap.jpg'); /* Use full-size map */
            background-repeat: no-repeat;
            background-size: 700%; /* Adjust zoom level */
            pointer-events: none; /* Prevent interaction */
        }
        /* END -- SKIMAP */

        /* START -- COMMON */
        /* Styled Numbered List with class */
        .styled-list {
            list-style-type: decimal; /* Makes the list numbered */
            padding-left: 10px; /* Minimal indentation from the left */
            margin: 0; /* Remove default margin */
            font-size: 1.1em; /* Adjust font size for readability */
        }

        .styled-list li {
            margin-bottom: 10px; /* Adds space between list items */
            line-height: 1.5; /* Adds some spacing between lines of text for better readability */
        }

        /* Non-numbered list styled with üîπ emoji */
        .cool-list {
            padding-left: 0; /* Remove default indentation */
            margin: 0; /* Remove default margin */
            list-style-type: none; /* Remove default list bullets */
        }

        .cool-list li {
            position: relative;
            font-size: 1em; /* Adjust font size for the text */
            line-height: 1.5; /* Adjust line height for proper spacing */
            padding-left: 25px; /* Add space between emoji and text */
            display: flex;
            align-items: center; /* Vertically align the text and emoji */
        }

        .cool-list li::before {
            content: "üîπ"; /* Adds the üîπ emoji before each list item */
            position: absolute;
            left: 0; /* Align emoji to the left */
            font-size: 1.2em; /* Slightly smaller emoji size */
            margin-top: 0.1em; /* Adjust for proper vertical alignment */
        }
        /* END -- COMMON */

        /* START -- DOWNLOAD/SHARE BUTTON */
        #download-btn, #share-btn {
            position: fixed;
            top: 7px;
            background: white;
            border: none;
            padding: 6px;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #download-btn-inline {
            top: 6px;
            background: white;
            border: none;
            padding: 6px;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            display: inline-block;
            align-items: center;
            justify-content: center;
        }

        #download-btn {
            left: 10px; /* Top-left corner */
        }

        #share-btn {
            right: 10px; /* Top-right corner */
        }

        .material-icons {
            font-size: 24px;
        }

        /* Modal Background */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }

        /* Modal Content */
        .modal-content {
            position: relative;
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            max-width: 90%;
            max-height: 90%;
        }

        /* QR Code Image */
        .qr-image {
            width: 80vw; /* Responsive size */
            max-width: 400px; /* Prevents it from getting too large */
        }

        /* Close Button */
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 30px;
            cursor: pointer;
            color: black;
        }

        /* Modal Background (Hidden by Default) */
        #ios-install-modal {
            display: none; /* Hidden initially */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5); /* Dark overlay */
            backdrop-filter: blur(5px); /* Smooth blur effect */
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        /* Ensure the modal appears when 'display: flex' is set */
        #ios-install-modal.flex {
            opacity: 1;
        }

        /* Modal Content Box */
        .ios-modal-content {
            background: white;
            padding: 20px;
            width: 90%;
            max-width: 350px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease-in-out;
        }

        /* When modal is shown, scale it up */
        #ios-install-modal.flex .ios-modal-content {
            transform: scale(1);
        }

        /* Close Button */
        .ios-close-btn {
            position: absolute;
            top: 12px;
            right: 16px;
            font-size: 24px;
            cursor: pointer;
            color: #888;
            transition: color 0.3s;
        }

        .ios-close-btn:hover {
            color: #333;
        }

        /* Modal Title */
        .ios-modal-title {
            font-size: 20px;
            margin-bottom: 10px;
            font-weight: bold;
            color: #222;
        }

        /* Modal Description */
        .ios-modal-description {
            font-size: 16px;
            color: #555;
            margin-bottom: 15px;
        }

        /* Instructions List */
        .ios-instructions-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        /* Individual Instruction */
        .ios-instruction {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            border-radius: 8px;
            background: #f9f9f9;
            margin-bottom: 10px;
            font-size: 16px;
            color: #333;
            font-weight: 500;
        }

        /* Icons */
        .ios-icon {
            font-size: 24px;
            color: #007aff; /* iOS Blue */
        }

        /* Instruction Text */
        .ios-instruction-text {
            flex: 1;
            text-align: left;
        }
        /* END -- DOWNLOAD/SHARE BUTTON */
    </style>
</head>
<body>

    <section id="today" class="active">
        <!-- Download Button (Top Left) -->
        <button id="download-btn" onclick="triggerPWAInstall()">
            <span class="material-icons">download</span>
        </button>

        <!-- Share Button (Top Right) -->
        <button id="share-btn" onclick="openShareModal()">
            <span class="material-icons">share</span>
        </button>
        <center><h3 style="margin: 5px">üìç <a href="https://maps.app.goo.gl/Vq4xjDLdLBHzLSvp7?g_st=ac" target="_blank">POINTS OF INTEREST</a></h3></center>
        <a href="https://en.morzine-avoriaz.com/weather-in-morzine/" target="_blank">
            <img src="https://www.yr.no/nb/innhold/2-3035648/meteogram.svg" alt="V√¶ret i Morzine/Avoriaz" width="100%">
        </a>
        <div id="previousDays">
        </div>
        <span class="day" data-date="2025-02-22"><!-- l√∏rdag -->
            <h2>Velkommen!</h2>
            <p>Endelig er vi samlet igjen for den 17. turen siden 2005 ‚Äì en tradisjon like sterk som afterski og vonde legg√¶r og l√•r! üòÜ</p>
            <p>Denne gangen venter seks dager med puddersn√∏ (slapsef√∏re), spektakul√¶re fjell, god mat og selvf√∏lgelig legendariske afterski-√∏yeblikk.</p>
            <p>F√∏lg med i appen for nyttig info, dagens utfordringer og andre sprell! La oss gj√∏re denne turen historisk bra!</p>
            <ul class="cool-list">
                <li>Utfordringer og konkurranser (ta bilder üì∏)</li>
                <li>Premier üèÜ</li>
                <li>Og viktigst av alt ‚Äì GOD stemning!</li>
            </ul>
            <p>S√• da gjenst√•r det bare √©n ting √• si:</p>
            <p>"1-2-3 ‚Äì N√• kos√¶r vi v√•rs!" üéøüçª</p>
            <p>
                <i>Trykk p√•
                    <button id="download-btn-inline" onclick="triggerPWAInstall()"><span class="material-icons">download</span></button>
                    √∏verst i venstre hj√∏rne for √• legge til appen p√• hjemskjermen din!
                </i>
            </p>
        </span>

        <span class="day" data-date="2025-02-23"><!-- s√∏ndag -->
            <h2>F√∏rste dag i l√∏ypa!</h2>
            <p>"Kor ska me gj√∏r av oss kor ska me g√•?".</p>
            <p>F√∏rste dag i Saalbach og bakken venter p√• deg!</p>
            <p>Kom deg ned til frokost (08:00-10:00) og f√• med deg planene for dagens tur.</p>
            <p>De f√∏rste heisene √•pner klokken 08:00, s√• vi har ingen tid √• miste!‚õ∑Ô∏è Sjekk üó∫Ô∏è i appen for mer info.</p>
            <p>Krysser fingrene for at Julie sitt ben holder og at hun f√•r kj√∏rt med de store gutta ü§û</p>
            <p><b>Funfact:</b> Visste du at Saalbach er kjent som 'Home of L√§ssig', som betyr "hjemmet til avslappet moro"?</p>
        </span>

        <span class="day" data-date="2025-02-24"><!-- mandag -->
            <h2>Endelig mandag!</h2>
            <p>Ny dag gir nye muligheter til √• utforske flere av l√∏ypene i Saalbach!</p>
            <p>Etter tredobbelt norsk i skiskyting ble feiringen litt for mye for enkelte av oss. Heldigvis falt kveldsmaten i smak. üòµ‚Äçüí´</p>
            <p>Vi erfarte i g√•r at det er om √• gj√∏re √• f√• kj√∏rt s√• mye som mulig f√∏r lunsj, s√• planen i dag blir deretter.</p>
            <p><b>Funfact:</b> Det g√•r gratis skibusser mellom Saalbach og Hinterglemm, noe som gj√∏r det enkelt √• komme seg rundt.</p>
            <p><i>men du, gl√∂m inte titta p√• solen, det √§r gratis!</i> ‚òÄÔ∏è</p>
        </span>

        <span class="day" data-date="2025-02-25"><!-- tirsdag -->
            <h2>Sn√∏magi</h2>
            <p>"Tirsdag er en ny sjanse til √• gj√∏re fremskritt og n√• dine m√•l."</p>
            <p>Har du tatt en pinne for landet og sunget om s√∏te Caroline? Hvis ikke er det p√• tide!</p>
            <img src="https://media1.tenor.com/m/XZ50FxoHwawAAAAd/snow-dj.gif" alt="Sn√∏-DJ">
            <p><i>PS: H√∏rer rykter om at det er en skjult skulptur i skogen, har du funnet den?</i></p>
        </span>


        <span class="day" data-date="2025-02-26"><!--onsdag -->
            <h2>H√¶ll√¶ Youtube</h2>
            <p>Onsdag er en dag for √• reflektere.</p>
            <p>Hvis vi n√• begynner √• bli tomme for samtaleemner, s√• ta en prat med Ove, han har nok noen skrevet ned p√• en lapp i lomma si ü§ì</p>
            <img src="https://media1.tenor.com/m/KmEgxic3wfQAAAAC/sponge-nerd-spongebob.gif" alt="Ove finner tema">
            <p><i>PS: Like & subscribe!</i></p>
            <div class="highscoreTable"></div>
            <p><a href="images/forelopig_highscore.png" target="_blank">Se oversikt her</a></p>
        </span>

        <span class="day" data-date="2025-02-27"><!-- torsdag -->
            <h2>Eventyrdag</h2>
            <p>Vi √∏nsker t√∏ffingene lykke til p√• The Challenge.</p>
            <p>Vi andre m√• finne oss en lunsjplass for √• se p√• Kl√¶bo g√• inn til gull rett foran Edvin fra Sverige kl 12:30.</p>
            <p>Nyt de lokale delikatessene i dag.</p>
            <p>Kanskje du skal pr√∏ve noe annet enn snitzel til lunsj?</p>
            <p><b>Funfact:</b> Saalbach er kjent for sin deilige Kaiserschmarrn, en type s√∏t pannekake.</p>
            <p><i>Og du, ikke glem de andre ch√¶llengene ogs√• da</i> üì∏</p>
            <div class="highscoreTable"></div>
            <p><a href="images/forelopig_highscore.png" target="_blank">Se oversikt her</a></p>
        </span>

        <span class="day" data-date="2025-02-28"><!-- fredag -->
            <h2>TGIF!</h2>
            <p>Du merker det kanskje godt i l√•ra? Det er lov √• v√¶re litt sliten n√•. Husk det er snart helg ü•≥</p>
	        <p>"Suksess er ikke endelig, fiasko er ikke fatalt: Det er motet til √• fortsette som teller." ‚Äì Winston Churchill</p>
            <p>Mens noen m√• lese seg opp om pleiepenger, m√• andre finne forslag til afterski-l√•ter.</p>
            <img src="https://media1.tenor.com/m/OXiCH_Jq6BUAAAAd/ski.gif" alt="Sitteski">
        </span>

        <span class="day" data-date="2025-03-01"><!-- reisedag -->
            <p><img src="images/diplom.png" alt="Diplom"></p>
            <p>Etter en heftig innspurt snappet Julie en knepen seier foran en lilla teletubby.</p>
            <p>Vi i redaksjonen takker for engasjementet, det hadde ikke blitt det samme uten deres bidrag.</p>
            <div class="highscoreTable"></div>
            <p><a href="images/endelig_highscore.png" target="_blank">Se oversikt her</a> <span style="font-size: 6px">Klagefrist 04.03.25 kl. 12:34</span></p>
        </span>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Get today's date in YYYY-MM-DD format
                let today = new Date().toISOString().split('T')[0];

                if (today > '2025-03-01' || today < '2025-02-22') today = '2025-03-01';

                // Select all day elements
                let spanDays = document.querySelectorAll("span.day");

                // Get the container for previous days
                let previousDaysContainer = document.getElementById("previousDays");
                let previousDaysHTML = ``;

                // Define an array for weekday names
                const weekdays = ["S√òN", "MAN", "TIRS", "ONS", "TORS", "FRE", "L√òR"];

                // Loop through each day entry
                spanDays.forEach(day => {
                    let dayDate = day.getAttribute("data-date");

                    if (dayDate === today) {
                        day.classList.add("show-day"); // Highlight today's section
                    }

                    // Only add links for past days
                    if (dayDate < today && dayDate < '2025-03-01') {
                        let dateObj = new Date(dayDate);
                        let dayName = weekdays[dateObj.getDay()]; // Get the weekday name
                        previousDaysHTML += `<a href="#" class="daylinks" onclick="showDay(event, '${dayDate}')">${dayName}</a> `;
                    }
                });

                // Only show the "I DAG" button after 22nd of February
                if (today > '2025-02-22') {
                    previousDaysHTML += `<a href="#" class="daylinks active-day-btn" onclick="showDay(event, '${today}')">I DAG</a>`;
                }

                // Update the previousDays section
                previousDaysContainer.innerHTML = previousDaysHTML;

                // Replace highscoretable divs with actual highscore tables
                let highscoreTables = document.querySelectorAll(".highscoreTable");
                highscoreTables.forEach(highscoreTable => highscoreTable.innerHTML = generateHighScoreTable());
            });

            // Function to show the correct day when clicking a link
            function showDay(event, date) {
                document.querySelectorAll("a.daylinks").forEach(daylink => {
                    daylink.classList.remove("active-day-btn");
                });
                let sourceEl = (event.target) ? event.target : event.srcElement;
                sourceEl.classList.add("active-day-btn");

                document.querySelectorAll("span.day").forEach(day => {
                    if (day.getAttribute("data-date") === date) {
                        day.classList.add("show-day");
                    } else {
                        day.classList.remove("show-day");
                    }
                });
            }

            function generateHighScoreTable() {
                let medals = ['ü•á','ü•à','ü•â'];
                let highscores = [
                    { name: "Anita", score: 30 },
                    { name: "Fredrik", score: 91 },
                    { name: "Gunnhild", score: 79 },
                    { name: "Jesper", score: 8 },
                    { name: "Julie", score: 95 },
                    { name: "Lars", score: 28 },
                    { name: "Oddbj√∏rn", score: 84 },
                    { name: "Ove", score: 65 },
                    { name: "Simen", score: 0 },
                ];
                let highscoresHtmlPrefix = '<table class="highscore">'
                    + '<tr>'
                    + '<th>Rank</th>'
                    + '<th>Navn</th>'
                    + '<th>Sk√•r</th>'
                    + '</tr>';
                let highscoresHtml = highscores.sort((a, b) => b.score - a.score)
                    .map((highscorer, i) => `<tr><td>${(i+1) + (medals[i] || '')}</td><td>${highscorer.name}</td><td>${highscorer.score}</td></tr>`)
                    .join('');
                let highscoresHtmlSuffix = '</table>'

                return highscoresHtmlPrefix + highscoresHtml + highscoresHtmlSuffix;
            }
        </script>
    </section>
    
    <section id="flights">
        <h2>Flyinformasjon</h2>
        <div class="flight-info-wrapper">
            <div class="flight-detail-block">
                <div class="flight-header">
                    <div class="flight-header-icon">
                        <i class="material-icons">flight_takeoff</i>
                        <h5 class="flight-date">l√∏. 22 februar 2025</h5>
                    </div>
                    <p class="flight-info-caption">Norwegian<br/>DY1642</p>
                </div>
                <ul class="flight-time-list">
                    <li class="flight-time-item departure-time">
                        <p class="no-margin">11:00, Oslo Airport</p>
                    </li>
                    <li class="flight-time-item flight-duration">
                        <p class="no-margin">Reisetid: 2 h 15 m</p>
                    </li>
                    <li class="flight-time-item departure-time">
                        <p class="no-margin">13:15, Salzburg Airport</p>
                    </li>
                </ul>
            </div>
            <div class="flight-detail-block">
                <div class="flight-header">
                    <div class="flight-header-icon">
                        <i class="material-icons" style="transform: scaleX(-1);">flight_takeoff</i>
                        <h5 class="flight-date">l√∏. 1 mars 2025</h5>
                    </div>
                    <p class="flight-info-caption">Norwegian<br/>DY1643</p>
                </div>
                <ul class="flight-time-list">
                    <li class="flight-time-item departure-time">
                        <p class="no-margin">14:15, Salzburg Airport</p>
                    </li>
                    <li class="flight-time-item flight-duration">
                        <p class="no-margin">Reisetid: 2 h 15 m</p>
                    </li>
                    <li class="flight-time-item departure-time">
                        <p class="no-margin">16:30, Oslo Airport</p>
                    </li>
                </ul>
            </div>
            <p class="no-margin">Transit: ca. 1 h 30 m</p>
        </div>
    </section>

    <section id="hotel">
        <div class="carousel" width="100%">
            <button class="prev" onclick="prevSlide()">&#9664;</button>
            <img src="images/hotell/01.jpg" class="activepic" onclick="nextSlide()">
            <img src="images/hotell/02.jpg" onclick="nextSlide()">
            <img src="images/hotell/02b.jpg" onclick="nextSlide()">
            <img src="images/hotell/03.jpg" onclick="nextSlide()">
            <img src="images/hotell/04.jpg" onclick="nextSlide()">
            <img src="images/hotell/05.jpg" onclick="nextSlide()">
            <img src="images/hotell/06.jpg" onclick="nextSlide()">
            <img src="images/hotell/07.jpg" onclick="nextSlide()">
            <img src="images/hotell/08.jpg" onclick="nextSlide()">
            <img src="images/hotell/09.jpg" onclick="nextSlide()">
            <img src="images/hotell/10.jpg" onclick="nextSlide()">
            <img src="images/hotell/11.jpg" onclick="nextSlide()">
            <img src="images/hotell/12.jpg" onclick="nextSlide()">
            <img src="images/hotell/13.jpg" onclick="nextSlide()">
            <img src="images/hotell/14.jpg" onclick="nextSlide()">
            <img src="images/hotell/15.jpg" onclick="nextSlide()">
            <img src="images/hotell/16.jpg" onclick="nextSlide()">
            <img src="images/hotell/17.jpg" onclick="nextSlide()">
            <img src="images/hotell/18.jpg" onclick="nextSlide()">
            <button class="next" onclick="nextSlide()">&#9654;</button>
        </div>
        <h2><a href="https://www.hoteligloo-morzine.com/en/" target="_blank">Hotel L'Igloo Morzine - <b>i hjertet av Les Portes du Soleil</b></a></h2>
        <h5><a href="https://maps.app.goo.gl/eBtMtu7knSqJHqKK9" target="_blank">üìç 270 Rte de la Combe √Ä Zore, 74110 Morzine, Frankrike</a></h5>
        <h5>Frokost: 07:30-10:00</h5>
        <p>Midt i Morzine, f√• minutters gange til heisene, afterski og alt som skjer. Familiedrevet, hyggelig og akkurat passe alpete. Her f√•r vi fransk frokost, sauna til slitne l√•r og kort vei hjem n√•r det blir ‚Äú1-2-3 n√• kos√¶r vi oss‚Äù-stemning.</p>
        <p>Perfekt base for Alpeskrull 2026.</p>
        <p>Og nei, vi har ikke funnet ut om hotellet har tilknytning til landbruket.</p>

        <script>
            let currentIndex = 0;
            const images = document.querySelectorAll('.carousel img');
            
            function showSlide(index) {
                images.forEach((img, i) => {
                    img.classList.toggle('activepic', i === index);
                });
            }
            
            function nextSlide() {
                currentIndex = (currentIndex + 1) % images.length;
                showSlide(currentIndex);
            }
            
            function prevSlide() {
                currentIndex = (currentIndex - 1 + images.length) % images.length;
                showSlide(currentIndex);
            }
        </script>
    </section>
    
    <section id="dinner">
        <h2>Planlagt middag</h2>
        <div class="dinner-day" data-date="2026-02-21" style="display: none"><!-- TODO -->
            <h3><a href="" target="_blank">L√∏rdag 21.02.2026 - Le Comptoir des Halles</a></h3>
            <h5><a href="https://maps.app.goo.gl/qZ9noV39H6RAsxhZ8" target="_blank">üìç Rte de la Combe √Ä Zore, 74110 Morzine, Frankrike</a></h5>
            <p>(Ingen) Booking kl. XX:XX</p>
            <p>Foresl√•tt av Ove</p>
        </div>
        <div class="dinner-day" data-date="2026-02-22">
            <h3><a href="https://www.tripadvisor.com/Restaurant_Review-g207359-d23624297-Reviews-Le_Local_Morzine-Morzine_Portes_du_Soleil_Haute_Savoie_Auvergne_Rhone_Alpes.html" target="_blank">S√∏ndag 22.02.2026 - Le Local Morzine</a></h3>
            <h5><a href="https://maps.app.goo.gl/ukJFhNSvp3Dti7sx9" target="_blank">üìç 778 Rte de la Plagne, 74110 Morzine, Frankrike</a></h5>
            <p>Booking kl. 19:15</p>
            <p>De serverer lokalt inspirert grillmat og retter med friske r√•varer, sm√• og store retter, samt et godt utvalg av √∏l, vin, cocktails og kaffe. Atmosf√¶ren er vennlig, avslappet og "lokal".</p>
        </div>
        <div class="dinner-day" data-date="2026-02-24">
            <h3><a href="https://www.tripadvisor.com/Restaurant_Review-g207359-d23624297-Reviews-Le_Local_Morzine-Morzine_Portes_du_Soleil_Haute_Savoie_Auvergne_Rhone_Alpes.html" target="_blank">S√∏ndag 22.02.2026 - Le Local Morzine</a></h3>
            <h5><a href="https://maps.app.goo.gl/XCnkK71zzSqVQVVW6" target="_blank">üìç 890 Av. de Joux Plane, 74110 Morzine, Frankrike</a></h5>
            <p>Booking kl. 18:45</p>
            <p>Her g√•r vi for ekte alpemat. P√• menyen finner du raclette og fondue (ja, det blir ost), saftige kj√∏ttretter, pizza, fisk - og nok alternativer til at b√•de den kresne og den eventyrlystne blir forn√∏yd.</p>
            <p>Et fint sted √• lande etter dagens h√∏ydemeter og oppsummere hvem som egentlig var raskest ned den svarte l√∏ypa üí®</p>
        </div>
        
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Get today's date in YYYY-MM-DD format
                let today = new Date().toISOString().split('T')[0];
        
                // Select all dinner-day elements
                let dinnerDays = document.querySelectorAll(".dinner-day");
        
                // Loop through each dinner entry
                dinnerDays.forEach(day => {
                    if (day.getAttribute("data-date") === today) {
                        day.classList.add("highlight-today"); // Add highlight class
                    }
                });
            });
        </script>
        
    </section>
    
    <section id="bars">
        <h2>Barer & Afterski</h2>
        <div class="bars-container">
            <!-- Bar 1 -->
            <div class="bar-card">
                <img src="images/bars/the-cavern-bar.jpg" alt="The Cavern Bar">
                <div class="bar-info">
                    <h3><a href="https://www.tripadvisor.com/Restaurant_Review-g187527-d12285987-Reviews-The_Cavern_bar-Torrevieja_Costa_Blanca_Province_of_Alicante_Valencian_Community.html" target="_blank">The Cavern Bar</a></h3>
                    <p>En av de mest livlige barene i Morzine midt i sentrum og √•pen hver dag fra 16‚Äì02. Live-musikk to ganger daglig, fullt tr√∏kk p√• allsang og h√∏y partyfaktor.</p>
                    <p>Her f√•r du godt utvalg av √∏l, vin, cocktails og skjermer som viser sport.</p>
                    <p>Kort sagt: Har du ikke sunget Sweet Caroline med √∏l i h√•nda, har du egentlig v√¶rt p√• afterski?</p>
                    <p><a href="https://maps.app.goo.gl/C9sicg5NUeXBPTWW6" target="_blank">üìç Taille de Mas Pleney, 74110 Morzine, Frankrike</a></p>
                </div>
            </div>

            <!-- Bar 2 -->
            <div class="bar-card">
                <img src="images/bars/tibetan-cafe-morzine.webp" alt="Tibetan Caf√©">
                <div class="bar-info">
                    <h3><a href="https://www.tripadvisor.com/Attraction_Review-g207359-d2038008-Reviews-Tibetan_Cafe-Morzine_Portes_du_Soleil_Haute_Savoie_Auvergne_Rhone_Alpes.html" target="_blank">Tibetan Caf√©</a></h3>
                    <p>En avslappet og uformell bar midt i Morzine. Et perfekt sted for en rolig √∏l, cocktail eller vin etter ski eller middag. Stedet har en hyggelig atmosf√¶re, god musikk og en blanding av b√•de lokalbefolkning og bes√∏kende, s√• det er et fint sted √• starte kvelden eller slappe av f√∏r mer festligheter.</p>
                    <p><a href="https://maps.app.goo.gl/9nFckoxaftFmRc156" target="_blank">üìç 28 Taille de Mas du Pleney, 74110 Morzine, Frankrike</a></p>
                </div>
            </div>

            <!-- Bar 3 -->
            <div class="bar-card">
                <img src="images/bars/the-dixie-bar.jpg" alt="The Dixie Bar">
                <div class="bar-info">
                    <h3><a href="https://www.tripadvisor.com/Attraction_Review-g207359-d3966353-Reviews-Dixie_Bar-Morzine_Portes_du_Soleil_Haute_Savoie_Auvergne_Rhone_Alpes.html" target="_blank">The Dixie Bar</a></h3>
                    <p>Irsk-inspirert og levende pub- og apr√®s-ski-sted. Her er det live musikk med bandet "The Dixie Micks", Guinness p√• tap og gode drinks. Ute- og inneservering.</p>
                    <p><a href="https://maps.app.goo.gl/YeUMpbBjNAMbyCwc7" target="_blank">üìç 20 Rue du Bourg, 74110 Morzine, Frankrike</a></p>
                </div>
            </div>

            <!-- Bar 4 -->
            <div class="bar-card">
                <img src="images/bars/le-tremplin.jpg" alt="Le Tremplin">
                <div class="bar-info">
                    <h3><a href="https://www.hotel-tremplin.com/dance/" target="_blank">Le Tremplin</a></h3>
                    <p>Et av mest ikoniske afterski-stedene i Morzine, perfekt plassert rett ved Pleney-l√∏ypa.</p>
                    <p>üîä Apres-ski starter rundt 15:30 hver dag med DJ-musikk og band som spiller alt fra sing-along-hits til store party-l√•ter.</p>
                    <p>üåû Stor solrik terrasse</p>
                    <p>üç∏ God stemning, musikk og dans</p>
                    <p><a href="https://maps.app.goo.gl/ieRUY2nYHXAPbEro6" target="_blank">üìç 166 Taille de Mas du Pleney, 74110 Morzine, Frankrike</a></p>
                </div>
            </div>

            <!-- Bar 5 -->
            <div class="bar-card">
                <img src="images/bars/le-coup-de-coeur.jpg" alt="Le Coup de Coeur">
                <div class="bar-info">
                    <h3><a href="https://www.tripadvisor.com/Restaurant_Review-g207359-d3626430-Reviews-Le_Coup_de_Coeur-Morzine_Portes_du_Soleil_Haute_Savoie_Auvergne_Rhone_Alpes.html" target="_blank">Le Coup de Coeur</a></h3>
                    <p>Vinbar.</p>
                    <p><a href="https://maps.app.goo.gl/wjQHLd9evN72vr6G8" target="_blank">üìç 85 Rte de la Plagne, 74110 Morzine, Frankrike</a></p>
                </div>
            </div>
        </div>
    </section>
    
    
    <section id="map">
        <h2>Skikart</h2>
        <p><a href="images/skiresort/skimap.jpg" target="_blank">Trykk for √• √•pne i nettleser</a></p>
        <div class="map-container">
            <img id="ski-map" src="images/skiresort/skimap.jpg" alt="Ski Resort Map">
            <div id="zoomed-map"></div>
        </div>
        <p>Heisene √•pner fra kl. 08:00 og ut.<br/><a href="https://www.saalbach.com/en/winter/ski-resort/operating-hours" target="_blank">Se nettsiden deres for detaljer.</a></p>
        
        <h4>L√∏ypeforslag</h4>

        <div>
            <h4>Easy</h4>
            <ul>
                <li>Turmwiese: Ligger i sentrum av Saalbach og er perfekt for nybegynnere. Denne l√∏ypen har en jevn gradient og gir en vakker utsikt over Saalbach.</li>
                <li>Nybegynneromr√•det i Hinterglemm: Dette omr√•det har flate l√∏yper som er lett tilgjengelige med trekkheiser. Perfekt for de som tar sine f√∏rste svinger.</li>
                <li>√òvre del av Bernkogel: Denne delen av Bernkogel er veldig flat og gir en flott panoramautsikt. Du kan ogs√• variere med l√∏ypene rundt G3 Wetterkreuz.</li>
                <li>L√∏yper n√¶r dalen i Leogang: Spesielt den venstre l√∏ypen ved L12 Schanteilift er godt egnet for nybegynnere.</li>
                <li>Streub√∂den-omr√•det i Fieberbrunn: Dette omr√•det tilbyr flate og brede l√∏yper som er ideelle for nybegynnere.</li>
            </ul>
        </div>

        <div>
            <h4>Medium</h4>
            <ul>
                <li>Schattberg Ost: L√∏ype 2a er en r√∏d l√∏ype som byr p√• en utfordrende og variert nedfart fra toppen av Schattberg til Hinterglemm.</li>
                <li>Zw√∂lferkogel: Denne fjelltoppen har flere r√∏de l√∏yper som gir en god blanding av utfordringer og naturskj√∏nn utsikt. L√∏ype 11 er spesielt popul√¶r.</li>
                <li>Kohlmais: Omr√•det rundt Kohlmais tilbyr flere r√∏de l√∏yper som er perfekte for viderekommende. L√∏ype 51 er en favoritt blant mange.</li>
                <li>Hochalm: Dette omr√•det har brede og godt preparerte r√∏de l√∏yper som gir en flott skikj√∏ringsopplevelse for viderekommende.</li>
                <li>Reiterkogel: L√∏ype 32 er en r√∏d l√∏ype som gir en fin balanse mellom utfordring og moro, med flotte utsikter over dalen.</li>
            </ul>
        </div>
        
        <div>
            <h4>Hard</h4>
            <ul>
                <li>Zw√∂lferkogel Nord: Denne svarte l√∏ypen er kjent for sin bratte og ofte isete nedfart, som virkelig setter ferdighetene dine p√• pr√∏ve.</li>
                <li>Schattberg Nord: L√∏ype 1 er en utfordrende svart l√∏ype som byr p√• en spennende nedfart med fantastisk utsikt.</li>
                <li>Schattberg West: Denne l√∏ypen er den lengste i omr√•det, med en lengde p√• 7 km og en h√∏ydeforskjell p√• 1 010 meter. Perfekt for de som s√∏ker en lang og krevende nedfart.</li>
                <li>Freeride-ruten p√• Zw√∂lferkogel: For de som liker off-piste, er denne ruten et must. Den byr p√• variert terreng og spektakul√¶r utsikt over dalen.</li>
                <li>Ski-ruten p√• Schattberg Ost: En spennende nedfart gjennom skogen som gir en adrenalinfylt opplevelse.</li>
            </ul>
        </div>

        <p><img src="images/skiresort/skiinfo.png"></p>
        <script>
            const map = document.getElementById("ski-map");
            const zoomedMap = document.getElementById("zoomed-map");

            function moveZoom(event) {
                event.preventDefault(); // Prevents scrolling when moving finger
                const rect = map.getBoundingClientRect();
                let x, y;

                if (event.touches) {
                    x = event.touches[0].clientX - rect.left;
                    y = event.touches[0].clientY - rect.top;
                } else {
                    x = event.clientX - rect.left;
                    y = event.clientY - rect.top;
                }

                const xPercent = (x / rect.width) * 100;
                const yPercent = (y / rect.height) * 100;

                // Adjust zoomed view position: centered horizontally, above the finger/mouse
                zoomedMap.style.left = `${x - zoomedMap.offsetWidth / 2}px`;
                zoomedMap.style.top = `${y - zoomedMap.offsetHeight}px`;

                // Adjust background position to match the point under the finger/mouse
                zoomedMap.style.backgroundPosition = `${xPercent}% ${yPercent}%`;
            }

            function showZoom(event) {
                event.preventDefault(); // Prevent scrolling on touch start
                zoomedMap.style.display = "block";
                moveZoom(event);
            }

            function hideZoom() {
                zoomedMap.style.display = "none";
            }

            // Mouse Events (Desktop)
            map.addEventListener("mouseenter", showZoom);
            map.addEventListener("mousemove", moveZoom);
            map.addEventListener("mouseleave", hideZoom);

            // Touch Events (Mobile)
            map.addEventListener("touchstart", (e) => {
                e.preventDefault(); // Prevents accidental scrolling
                showZoom(e);
            }, { passive: false });

            map.addEventListener("touchmove", (e) => {
                e.preventDefault(); // Stops scrolling while moving finger
                moveZoom(e);
            }, { passive: false });

            map.addEventListener("touchend", hideZoom);
        </script>
    </section>
    
    <section id="challenges">
        <h2>Ch√¶llenge!</h2>
        <p>Nytt av √•ret. Utfordringer for alle og enhver.</p>
        <div>
            <h4>Slik f√•r du poeng:</h4>
            üì∏ Fullf√∏rt challenge: 5 poeng<br/>
            ü§£ Ekstra morsomt bilde: +3 poeng<br/>
            üé≠ Kreativ vri p√• utfordringen: +2 poeng<br/>
            üö´ Ikke fullf√∏rt challenge: -0 poeng<br/>
            <b>Bilder sendes fortl√∏pende til Miriam i den gule appen</b>
        </div>
        <div>
            <h4>
                Ch√¶llenges
            </h4>
            <ul class="styled-list">
                <li>
                    <input type="checkbox" id="challenge-1" data-id="1">
                    <label for="challenge-1">Ta et bilde av noen som sover (bonuspoeng for morsom sovestilling)</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-2" data-id="2">
                    <label for="challenge-2">Ta en selfie med en skil√∏per i en HELT annen outfit enn deg (f.eks. noen i retro-antrekk eller full racingdrakt)</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-3" data-id="3">
                    <label for="challenge-3">Ta et bilde der du later som du har satt deg fast i sn√∏en</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-4" data-id="4">
                    <label for="challenge-4">Ta en ‚Äúsuperhelt-landing‚Äù i sn√∏en etter et hopp</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-5" data-id="5">
                    <label for="challenge-5">Fang det morsomste skiltet eller advarselen du ser i bakken</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-6" data-id="6">
                    <label for="challenge-6">Ta et bilde av noen i gruppa som drikker med skibrillene p√•</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-7" data-id="7">
                    <label for="challenge-7">Bilde av en hel gruppe som sk√•ler ‚Äì helst med en fremmed med i bildet</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-8" data-id="8">
                    <label for="challenge-8">Ta et bilde av en ny venn dere m√∏ter p√• afterski</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-9" data-id="9">
                    <label for="challenge-9">Fang det rareste dance-movet p√• dansegulvet</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-10" data-id="10">
                    <label for="challenge-10">Finn en person med en skikkelig kul (eller merkelig) lue og ta et bilde med dem</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-11" data-id="11">
                    <label for="challenge-11">Ta et bilde av deg selv med den beste utsikten p√• turen</label>
                </li>
                <li>
                    <input type="checkbox" id="challenge-12" data-id="12">
                    <label for="challenge-12">Fang et ekte ‚Äúfilm√∏yeblikk‚Äù ‚Äì noen som ler, sk√•ler eller gj√∏r noe spontant og g√∏y</label>
                </li>
            </ul>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const checkboxes = document.querySelectorAll(".styled-list input[type='checkbox']");
    
                // Load saved checkbox state
                checkboxes.forEach(checkbox => {
                    const id = checkbox.dataset.id;
                    const checked = localStorage.getItem(`challenge-${id}`) === "true";
                    checkbox.checked = checked;
                });
    
                // Save state of each checkbox when saved
                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener("change", function () {
                        localStorage.setItem(`challenge-${this.dataset.id}`, this.checked);
                    });
                });
            });
        </script>
    </section>
    
    <section id="history">
        <h2>Historie</h2>
        <ul class="cool-list">
            <li>2005: St. Anton, √òsterrike (VM i Oberstdorf)</li>
            <li>2006: Serre Chevalier, Frankrike (OL i Torino)</li>
            <li>2007: Canazei, Italia</li>
            <li>2008: Zermatt, Sveits</li>
            <li>2009: Val Thorens, Frankrike</li>
            <li>2010: Val d'Isere, Frankrike</li>
            <li>2011: Chamonix, Frankrike</li>
            <li>2013: Canazei, Italia (VM i Val di Fiemme)</li>
            <li>2015: Whistler, Canada (Julie og Fred) </li>
            <li>2016: Tignes, Frankrike</li>
            <li>2017: Zauchensee, √òsterrike</li>
            <li>2018: Schladming, √òsterrike</li>
            <li>2019: St. Anton, √òsterrike (VM i Seefeld) </li>
            <li>2020: Cervinia, Italia</li>
            <li>2023: Bad Gastein, √òsterrike</li>
            <li>2024: Val Gardena, Italia</li>
            <li><a href="2025/index.html">2025: Saalbach, √òsterrike</a></li>
            <li>2026: Morzine, Frankrike</a></li>
        </ul>
    </section>
    
    <nav>
        <ul>
            <li><a href="#today" class="active">üìÜ</a></li>
            <li><a href="#flights">‚úàÔ∏è</a></li>
            <li><a href="#hotel">üè®</a></li>
            <li><a href="#dinner">üçΩÔ∏è</a></li>
            <li><a href="#bars">üçª</a></li>
            <li><a href="#map">üó∫Ô∏è</a></li>
            <li><a href="#challenges">üèÜ</a></li>
            <li><a href="#history">üìö</a></li>
        </ul>

        <script>
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function(event) {
                    event.preventDefault();
                    
                    // Scroll to the top of the page
                    window.scrollTo(0, 0);
        
                    // Remove the "active" class from all sections and nav links
                    document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
                    document.querySelectorAll('nav a').forEach(link => link.classList.remove('active'));
        
                    // Add the "active" class to the section linked
                    const targetSection = document.querySelector(this.getAttribute('href'));
                    if (targetSection) {
                        targetSection.classList.add('active');
                    }
        
                    // Highlight the active nav link
                    this.classList.add('active');
                });
            });
        </script>
        
    </nav>
    
    <!-- Share Modal -->
    <div id="share-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeShareModal()">&times;</span>
            <img src="images/QR_CODE.png" alt="QR Code" class="qr-image">
        </div>
    </div>
    <div id="ios-install-modal" class="ios-modal">
        <div class="ios-modal-content">
            <span class="ios-close-btn" onclick="closeIosInstallModal()">&times;</span>
            <h1 class="ios-modal-title">Legg til p√• hjem-skjerm</h1>
            <p class="ios-modal-description">F√∏lg disse stegene for √• installere appen:</p>
            <ul class="ios-instructions-list">
                <li class="ios-instruction">
                    <span class="ios-icon material-icons">ios_share</span>
                    <span class="ios-instruction-text">Trykk p√• del-knappen √∏verst i h√∏yre hj√∏rne.</span>
                </li>
                <li class="ios-instruction">
                    <span class="ios-icon material-icons">add_box</span>
                    <span class="ios-instruction-text">Velg "Legg til p√• hjem-skjerm"</span>
                </li>
            </ul>
        </div>
    </div>
    <script>
        function openShareModal() {
            document.getElementById("share-modal").style.display = "flex";
        }

        function closeShareModal() {
            document.getElementById("share-modal").style.display = "none";
        }

        function openIosInstallModal() {
            let modal = document.getElementById("ios-install-modal");
            modal.style.display = "flex";
            
            // Small delay to ensure transition applies
            setTimeout(() => {
                modal.classList.add("flex");
            }, 10);
        }

        function closeIosInstallModal() {
            let modal = document.getElementById("ios-install-modal");
            modal.classList.remove("flex");

            // Wait for animation to finish before hiding
            setTimeout(() => {
                modal.style.display = "none";
            }, 300);
        }

        // Close modal if clicking outside the content
        window.onclick = function(event) {
            let iosModal = document.getElementById("ios-install-modal");
            if (event.target === iosModal) {
                closeIosInstallModal();
            }
            let shareModal = document.getElementById("share-modal");
            if (event.target === shareModal) {
                closeShareModal();
            }
        };
    </script>
</body>
</html>
<!--
TODO:
- (neste √•r?) Deling av posisjon i app, og visning av posisjon til deltakere
-->